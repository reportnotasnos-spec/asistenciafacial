/* Root Variables for Themes */
:root {
    --bg-color: #f8f9fa;
    --card-bg: #ffffff;
    --text-main: #212529;
    --text-muted: #6c757d;
    --border-color: rgba(0,0,0,.125);
}

[data-theme="dark"] {
    --bg-color: #0f111a;
    --card-bg: #1a1d29;
    --text-main: #f8f9fa;
    --text-muted: #a0a7b5;
    --border-color: #2d3245;
}

body {
    background-color: var(--bg-color) !important;
    color: var(--text-main) !important;
    transition: background-color 0.3s, color 0.3s;
}

.card {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
    color: var(--text-main) !important;
}

.card-header, .card-footer {
    background-color: rgba(0,0,0,.03);
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .card-header, [data-theme="dark"] .card-footer {
    background-color: rgba(255,255,255,.05);
}

[data-theme="dark"] .table {
    color: #e0e0e0 !important;
}

[data-theme="dark"] .table-hover tbody tr:hover {
    color: #ffffff !important;
    background-color: rgba(255,255,255,.075) !important;
}

[data-theme="dark"] .bg-light {
    background-color: #2d2d2d !important;
}

[data-theme="dark"] .text-dark {
    color: #ffffff !important;
}

/* Table Contrast and Style Fixes */
.table {
    color: #212529 !important; /* Force near-black in light mode */
}

.table thead th {
    color: #000000 !important; /* Pure black for headers */
    font-weight: 700;
    border-bottom: 2px solid #dee2e6;
    background-color: #f1f3f5;
}

.text-muted, .small.text-muted {
    color: #495057 !important; /* Darker muted text for better contrast */
}

[data-theme="dark"] .table {
    color: #f8f9fa !important; /* White in dark mode */
    background-color: var(--card-bg) !important;
}

[data-theme="dark"] .table td, 
[data-theme="dark"] .table th {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
}

[data-theme="dark"] .table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(255,255,255,.05) !important;
}

[data-theme="dark"] .table-hover tbody tr:hover {
    background-color: rgba(255,255,255,.1) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .dataTables_wrapper {
    background-color: var(--card-bg);
    color: var(--text-main);
}

[data-theme="dark"] .page-link {
    background-color: #2d2d2d;
    border-color: #444;
    color: #fff;
}

[data-theme="dark"] .page-item.disabled .page-link {
    background-color: #1e1e1e;
    border-color: #333;
}

[data-theme="dark"] .thead-light th {
    background-color: #333 !important;
    color: #fff !important;
}

[data-theme="dark"] .text-muted, [data-theme="dark"] .small.text-muted {
    color: #adb5bd !important; /* Lighter muted text for dark mode */
}

[data-theme="dark"] .dataTables_info, [data-theme="dark"] .dataTables_length, [data-theme="dark"] .dataTables_filter {
    color: #e0e0e0 !important;
}

/* Modal Style and Contrast Improvements */
.modal-content {
    border: none;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
}

.modal-header {
    border-bottom: 1px solid #eee;
    background-color: #f8f9fa;
}

.modal-header .modal-title {
    font-weight: 700;
    color: #212529;
}

.modal-footer {
    border-top: 1px solid #eee;
}

/* Form controls in modals */
.modal-body label {
    font-weight: 600;
    color: #333;
}

.modal-body .form-control {
    border: 1px solid #ccc;
    color: #212529;
}

/* Dark Mode for Modals */
[data-theme="dark"] .modal-content {
    background-color: var(--card-bg) !important;
    color: var(--text-main) !important;
    border: 1px solid #444;
}

[data-theme="dark"] .modal-header {
    background-color: rgba(255,255,255,.05);
    border-bottom: 1px solid #444;
}

[data-theme="dark"] .modal-header .modal-title {
    color: #ffffff;
}

[data-theme="dark"] .modal-footer {
    border-top: 1px solid #444;
}

[data-theme="dark"] .modal-body label {
    color: #e0e0e0;
}

[data-theme="dark"] .modal-body .form-control {
    background-color: #2d2d2d;
    border: 1px solid #555;
    color: #ffffff;
}

[data-theme="dark"] .modal-body .form-control:focus {
    background-color: #333;
    border-color: #007bff;
    color: #ffffff;
}

[data-theme="dark"] .modal-header .close {
    color: #fff;
    text-shadow: none;
    opacity: 0.8;
}

[data-theme="dark"] .modal-header .close:hover {
    opacity: 1;
}

/* Quick Actions Styles */
.custom-quick-actions .list-group-item {
    transition: background-color 0.2s, padding-left 0.2s;
    font-weight: 500;
}

.custom-quick-actions .list-group-item:hover:not(.disabled) {
    background-color: #f0f7ff;
    padding-left: 1.5rem;
}

[data-theme="dark"] .custom-quick-actions .list-group-item {
    background-color: var(--card-bg) !important;
    color: var(--text-main) !important;
    border-color: #333;
}

[data-theme="dark"] .custom-quick-actions .list-group-item:hover:not(.disabled) {
    background-color: rgba(255,255,255,.05) !important;
}

[data-theme="dark"] .custom-quick-actions .text-primary {
    color: #4dabff !important; /* Lighter blue for dark mode */
}

/* Dark Mode Overrides */
[data-theme="dark"] .bg-white {
    background-color: var(--card-bg) !important;
}

[data-theme="dark"] .text-dark {
    color: #ffffff !important;
}

[data-theme="dark"] .card {
    background-color: var(--card-bg) !important;
    border: 1px solid var(--border-color) !important;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3) !important;
}

[data-theme="dark"] .card-header {
    background-color: rgba(255,255,255,0.03) !important;
    border-bottom: 1px solid var(--border-color) !important;
}

[data-theme="dark"] .table {
    background-color: transparent !important;
    color: #e0e6ed !important;
}

[data-theme="dark"] .table thead th {
    background-color: rgba(255,255,255,0.05) !important;
    color: #ffffff !important;
    border-bottom: 2px solid var(--border-color) !important;
}

[data-theme="dark"] .table td {
    border-top: 1px solid var(--border-color) !important;
    color: #e0e6ed !important;
}

[data-theme="dark"] .badge-light {
    background-color: #2d3245 !important;
    color: #f8f9fa !important;
    border: 1px solid #454d66 !important;
}

/* Skeleton Screens */
.skeleton {
    background: #e0e0e0;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: 4px;
    display: inline-block;
    width: 100%;
    height: 1em;
}

[data-theme="dark"] .skeleton {
    background: #333;
    background: linear-gradient(90deg, #333 25%, #444 50%, #333 75%);
    background-size: 200% 100%;
}

@keyframes skeleton-loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton-text { height: 0.8rem; margin-bottom: 0.5rem; }
.skeleton-title { height: 1.5rem; margin-bottom: 1rem; width: 60%; }
.skeleton-avatar { width: 100px; height: 100px; border-radius: 50%; }

/* Weekly Schedule Event Cards */
.schedule-event-card {
    background-color: #ffffff !important;
    transition: transform 0.1s;
    cursor: default;
}

.schedule-event-card:hover {
    transform: scale(1.02);
}

[data-theme="dark"] .schedule-event-card {
    background-color: #252a3d !important; /* Slightly lighter than var(--card-bg) */
    box-shadow: 0 4px 8px rgba(0,0,0,0.4) !important;
}

/* Weekly Schedule Custom Table (No DataTables) */
.weekly-schedule-table {
    width: 100%;
    border-collapse: collapse;
}

.weekly-schedule-table th, 
.weekly-schedule-table td {
    border: 1px solid #dee2e6;
    padding: 12px 8px;
}

.weekly-schedule-table thead th {
    background-color: #f8f9fa;
    color: #212529;
}

.schedule-today-cell {
    background-color: rgba(0, 123, 255, 0.08) !important;
}

.weekly-schedule-table th.bg-primary {
    background-color: #007bff !important;
    color: #ffffff !important;
    border-color: #007bff !important;
}

/* Dark Mode for Weekly Schedule */
[data-theme="dark"] .weekly-schedule-table th, 
[data-theme="dark"] .weekly-schedule-table td {
    border-color: #2d3245;
}

[data-theme="dark"] .weekly-schedule-table thead th {
    background-color: rgba(255,255,255,0.05);
    color: #ffffff;
}

[data-theme="dark"] .schedule-today-cell {
    background-color: #1e263d !important;
    border-left: 2px solid #3d5afe !important;
    border-right: 2px solid #3d5afe !important;
}

[data-theme="dark"] .weekly-schedule-table th.bg-primary {
    background-color: #0056b3 !important;
    border-color: #0056b3 !important;
}

/* Weekly Schedule Event Cards */
.x-small {
    font-size: 0.75rem;
}

.truncate {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
}

.opacity-25 {
    opacity: 0.25;
}

.transition-hover {
    transition: transform 0.2s, box-shadow 0.2s;
}

.transition-hover:hover {
    transform: translateY(-5px);
    box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
}

.bg-light-blue {
    background-color: #f0f7ff;
}

.x-small {
    font-size: 0.75rem;
}

.btn-xs {
    padding: 0.2rem 0.5rem;
    font-size: 0.7rem;
    line-height: 1.5;
    border-radius: 0.2rem;
}

/* Admin Portal Header Contrast */
.admin-header-card {
    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%) !important;
    color: #ffffff !important;
}

[data-theme="dark"] .admin-header-card {
    background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%) !important;
    border: 1px solid #2d3245 !important;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5) !important;
}

.opacity-75 { opacity: 0.75 !important; }
.opacity-15 { opacity: 0.15 !important; }
/* Quick Actions Backgrounds & Contrast */
.bg-primary-light { background-color: rgba(0,123,255,0.1); }
.bg-success-light { background-color: rgba(40,167,69,0.1); }
.bg-info-light { background-color: rgba(23,162,184,0.1); }
.bg-warning-light { background-color: rgba(255,193,7,0.1); }

/* Dark Mode High Contrast Overrides for Quick Actions */
[data-theme='dark'] .bg-primary-light { background-color: rgba(13, 110, 253, 0.25) !important; color: #6ea8fe !important; }
[data-theme='dark'] .bg-success-light { background-color: rgba(25, 135, 84, 0.25) !important; color: #75b798 !important; }
[data-theme='dark'] .bg-info-light { background-color: rgba(13, 202, 240, 0.25) !important; color: #6edff6 !important; }
[data-theme='dark'] .bg-warning-light { background-color: rgba(255, 193, 7, 0.25) !important; color: #ffda6a !important; }

/* Force text color inside these containers for dark mode */
[data-theme='dark'] .bg-primary-light .text-primary { color: #6ea8fe !important; }
[data-theme='dark'] .bg-success-light .text-success { color: #75b798 !important; }
[data-theme='dark'] .bg-info-light .text-info { color: #6edff6 !important; }
[data-theme='dark'] .bg-warning-light .text-warning { color: #ffda6a !important; }


/* List Group Items in Dark Mode */
[data-theme='dark'] .list-group-item {
    background-color: var(--card-bg) !important;
    border-color: var(--border-color) !important;
    color: var(--text-main) !important;
}

[data-theme='dark'] .list-group-item:hover {
    background-color: rgba(255,255,255,0.05) !important;
}

